/* Variables */
:root{
  --fab-size: 64px;
  --fab-gap: 14px;
  --fab-z-root: 10000;
  --fab-z-overlay: 0;
  --fab-z-ui: 2;
  --fab-green: #25D366;
}

#fab-root{ position: fixed; right:20px; bottom:20px; z-index: var(--fab-z-root); font-family: Arial, sans-serif; isolation:isolate; }
#fab-root, #fab-root *{ box-sizing: border-box; }
#fab-root img{ max-width:none !important; height:auto; display:block; }

#fab-overlay{ position: fixed; inset:0; background:rgba(0,0,0,.6); opacity:0; pointer-events:none; transition:opacity .25s ease; z-index: var(--fab-z-overlay); }
#fab-root.open #fab-overlay{ opacity:1; pointer-events:auto; }
.fab-layer{ position: relative; z-index: var(--fab-z-ui); }

.fab-btn, .fab-icon{
  inline-size: var(--fab-size) !important; block-size: var(--fab-size) !important;
  min-inline-size: var(--fab-size) !important; min-block-size: var(--fab-size) !important;
  max-inline-size: var(--fab-size) !important; max-block-size: var(--fab-size) !important;
  border-radius: 50%; flex: 0 0 var(--fab-size) !important; align-self: center !important;
  padding:0 !important; margin:0 !important; line-height:0 !important;
}

.fab-btn{
  border:0; background: var(--fab-green); color:#fff; display:inline-flex; align-items:center; justify-content:center;
  box-shadow: 0 8px 20px rgba(0,0,0,.18); animation: pulse 1.35s ease-in-out infinite; will-change: transform;
}
.fab-btn img{ width:60%; height:60%; object-fit:contain; border-radius:8px; }
#fab-root.open .fab-btn{ animation: none !important; transform:none !important; }

#fab-menu{
  position:absolute; bottom: calc(var(--fab-size) + 12px); right:6px; display:flex; flex-direction:column; gap: var(--fab-gap);
  opacity:0; transform: translateY(10px); pointer-events:none; transition: opacity .25s ease, transform .25s ease; align-items:flex-end;
}
#fab-root.open #fab-menu{ opacity:1; transform: none; pointer-events:auto; }

.fab-item{
  display:grid !important; grid-template-columns: max-content var(--fab-size); align-items:center !important; column-gap: 12px; width:auto !important;
  text-decoration:none !important; color: inherit !important; opacity:0; transform: translateY(6px) scale(.96);
  transition: opacity .22s cubic-bezier(.2,.8,.2,1), transform .22s cubic-bezier(.2,.8,.2,1);
}
#fab-root.open .fab-item{ opacity:1; transform:none; }
#fab-root.open .fab-item:nth-child(1){ transition-delay: .02s; }
#fab-root.open .fab-item:nth-child(2){ transition-delay: .08s; }
#fab-root.open .fab-item:nth-child(3){ transition-delay: .14s; }

.fab-label{ color:#fff; font-size:14px; font-weight:700; text-shadow: 0 2px 6px rgba(0,0,0,.35); white-space:nowrap; text-align:right !important; }
.fab-icon{ background:#fff; display:inline-flex; align-items:center; justify-content:center; box-shadow: 0 8px 20px rgba(0,0,0,.18); overflow:hidden; justify-self:end; }
.fab-icon img{ width:56%; height:56%; object-fit:contain; }

#fab-bubble{ position:absolute; bottom: calc(var(--fab-size) + 18px); right:0; background: var(--fab-green); color:#fff; padding:10px 14px; border-radius:14px; max-width:220px; box-shadow:0 8px 20px rgba(0,0,0,.18);
  opacity:0; transform: translateY(8px); transition:.25s ease; pointer-events:none; font-size:14px; }
#fab-bubble.show{ opacity:1; transform:none; }
#fab-bubble .bubble-tail{ position:absolute; bottom:-8px; right:16px; width:0; height:0; border-left:8px solid transparent; border-right:8px solid transparent; border-top:8px solid var(--fab-green); }

@keyframes pulse{ 0%{transform:scale(1)} 50%{transform:scale(1.2)} 100%{transform:scale(1)} }

@media (prefers-reduced-motion: reduce){
  #fab-root:not([data-motion="on"]) .fab-btn{ animation:none; }
  #fab-root:not([data-motion="on"]) #fab-menu,
  #fab-root:not([data-motion="on"]) #fab-overlay,
  #fab-root:not([data-motion="on"]) #fab-bubble{ transition:none; }
  #fab-root:not([data-motion="on"]) .fab-item{ transition:none; transform:none; opacity:1; }
}
